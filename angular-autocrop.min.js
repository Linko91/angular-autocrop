/*!
 _        _         _            
| \      (_)       | |           
| |       _  ____  | |  _   ___  
| |      | ||  _ \ | |_/ ) / _ \ 
| |_____ | || | | ||  _ ( | (_) |
\_______)|_||_| |_||_| \_) \___/ 
                                      

 * angular-autocrop v0.3.2
 * Angular auto crop image 
 *
 * http://ddmweb.it/
 * Licensed under the MIT license
 *
 * @author Davide Di Modica
 * @requires angular
 
*/


!function(){"use strict";var t=angular.module("autocrop",[]).constant("MODULE_VERSION","0.3.2");t.factory("$autoCropImage",function(){function t(t,e,c,h){n=document.getElementById(t),r=document.getElementById(e),c&&parseInt(c)&&!isNaN(parseInt(c))&&(i=c),h&&parseInt(h)&&!isNaN(parseInt(h))&&(o=h),n.onload=a}function a(){var t=r.width,a=r.height;i&&o&&(t=i,a=o),e(r,this,0,0,t,a)}function e(t,a,e,n,r,i,o,c){2===arguments.length&&(e=n=0,r=t.width,i=t.height),o=o?o:.5,c=c?c:.5,0>o&&(o=0),0>c&&(c=0),o>1&&(o=1),c>1&&(c=1);var h=new Image;h.src=a.src;var s,u,d,g,m=h.width,I=h.height,v=Math.min(r/m,i/I),l=m*v,f=I*v,p=1;r>l&&(p=r/l),i>f&&(p=i/f),l*=p,f*=p,d=m/(l/r),g=I/(f/i),s=(m-d)*o,u=(I-g)*c,0>s&&(s=0),0>u&&(u=0),d>m&&(d=m),g>I&&(g=I);var w=document.createElement("canvas");w.width=r,w.height=i;var E=w.getContext("2d");E.drawImage(a,s,u,d,g,e,n,r,i);var N=w.toDataURL();t.src=N}var n,r,i=0,o=0;return{init:t}})}();