/*!
 _        _         _            
| \      (_)       | |           
| |       _  ____  | |  _   ___  
| |      | ||  _ \ | |_/ ) / _ \ 
| |_____ | || | | ||  _ ( | (_) |
\_______)|_||_| |_||_| \_) \___/ 
                                      

 * angular-autocrop v0.3.2
 * Angular auto crop image 
 *
 * http://ddmweb.it/
 * Licensed under the MIT license
 *
 * @author Davide Di Modica
 * @requires angular
 
*/


!function(){"use strict";var t=angular.module("autocrop",[]).constant("MODULE_VERSION","0.3.1");t.factory("$autoCropImage",function(){function t(t,a,c,h){e=document.getElementById(t),r=document.getElementById(a),c&&parseInt(c)&&!isNaN(parseInt(c))&&(i=c),h&&parseInt(h)&&!isNaN(parseInt(h))&&(o=h),e.onload=n}function n(){var t=r.width,n=r.height;i&&o&&(t=i,n=o),a(r,this,0,0,t,n)}function a(t,n,a,e,r,i,o,c){2===arguments.length&&(a=e=0,r=t.width,i=t.height),o=o?o:.5,c=c?c:.5,0>o&&(o=0),0>c&&(c=0),o>1&&(o=1),c>1&&(c=1);var h,u,d,s,g=n.width,m=n.height,I=Math.min(r/g,i/m),v=g*I,l=m*I,f=1;r>v&&(f=r/v),i>l&&(f=i/l),v*=f,l*=f,d=g/(v/r),s=m/(l/i),h=(g-d)*o,u=(m-s)*c,0>h&&(h=0),0>u&&(u=0),d>g&&(d=g),s>m&&(s=m);var p=document.createElement("canvas");p.width=r,p.height=i;var w=p.getContext("2d");w.drawImage(n,h,u,d,s,a,e,r,i);var E=p.toDataURL();t.src=E}var e,r,i=0,o=0;return{init:t}})}();