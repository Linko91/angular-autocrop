/*!
 _        _         _            
| \      (_)       | |           
| |       _  ____  | |  _   ___  
| |      | ||  _ \ | |_/ ) / _ \ 
| |_____ | || | | ||  _ ( | (_) |
\_______)|_||_| |_||_| \_) \___/ 
                                      

 * angular-autocrop v0.2.1
 * Angular auto crop image 
 *
 * http://ddmweb.it/
 * Licensed under the MIT license
 *
 * @author Davide Di Modica
 * @requires angular
 
*/


!function(){"use strict";var t=angular.module("autocrop",[]).constant("MODULE_VERSION","0.2.1");t.factory("$autoCropImage",function(){function t(t,n){a=document.getElementById(t),i=document.getElementById(n),a.onload=e}function e(){n(i,this,0,0,i.width,i.height)}function n(t,e,n,a,i,o,h,r){2===arguments.length&&(n=a=0,i=t.width,o=t.height),h=h?h:.5,r=r?r:.5,0>h&&(h=0),0>r&&(r=0),h>1&&(h=1),r>1&&(r=1);var c,u,d,g,m=e.width,l=e.height,s=Math.min(i/m,o/l),v=m*s,f=l*s,w=1;i>v&&(w=i/v),o>f&&(w=o/f),v*=w,f*=w,d=m/(v/i),g=l/(f/o),c=(m-d)*h,u=(l-g)*r,0>c&&(c=0),0>u&&(u=0),d>m&&(d=m),g>l&&(g=l);var E=document.createElement("canvas");E.width=t.width,E.height=t.height;var I=E.getContext("2d");I.drawImage(e,c,u,d,g,n,a,i,o);var y=E.toDataURL();t.src=y}var a,i;return{init:t}})}();